# flexirope ü™¢

**FlexiRope** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏ –≥–∏–±–∫–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—Å–ø–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è (AOP) –≤ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ "—É–º–Ω—ã—Ö –æ–±–µ—Ä—Ç–æ–∫" (SmartRopes).

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–µ–¥—Ä—è—Ç—å –ª–æ–≥–∏–∫—É (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—é, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö) –≤ –ª—é–±—ã–µ –º–µ—Ç–æ–¥—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–≥–∏–Ω–æ–≤, –Ω–µ –∏–∑–º–µ–Ω—è—è –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* **SmartRope**: –£–º–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–∑–æ–≤–∞ (–æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –º–µ—Ç–æ–¥ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞, `staticmethod`, `classmethod` –∏–ª–∏ `property`).
* **–ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö, —Ç–∞–∫ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–ª–∞–≥–∏–Ω–æ–≤.
* **–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤**: –°—Ç—Ä–æ–≥–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã `SyncPlugin` –∏ `AsyncPlugin` –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤ `before` –∏ `after`.
* **–°–ª–∞–±—ã–µ —Å—Å—ã–ª–∫–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `WeakKeyDictionary` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –∫–ª–∞—Å—Å–æ–≤.
* **–§–∞–±—Ä–∏–∫–∞ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤**: –õ–µ–≥–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –Ω–∞ –±–∞–∑–µ –≤–∞—à–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
uv add flexirope

```

*–ò–ª–∏ —á–µ—Ä–µ–∑ pip:*

```bash
pip install flexirope

```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞

–ü–ª–∞–≥–∏–Ω –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

```python
from flexirope import SyncPlugin

class LoggingPlugin(SyncPlugin):
    def before(self, wire, args, kwargs):
        print(f"–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏: {wire._name} —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ {args}")
        return args, kwargs

    def after(self, wire, result):
        print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç {wire._name}: {result}")
        return result

```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SmartRope

–û–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–æ–≤:

```python
from flexirope import SmartRope

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏
log_rope = SmartRope(plugins=[LoggingPlugin()])

@log_rope
def multiply(a, b):
    return a * b

multiply(10, 2)
# –í—ã–≤–æ–¥:
# –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏: multiply —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ (10, 2)
# –†–µ–∑—É–ª—å—Ç–∞—Ç multiply: 20

```

## üõ† –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†–∞–±–æ—Ç–∞ —Å –∫–ª–∞—Å—Å–∞–º–∏ –∏ —Å–ª–æ—Ç–∞–º–∏

–ï—Å–ª–∏ –≤–∞—à –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `__slots__`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@support_ropes`, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É `__weakref__`, –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

```python
from flexirope import SmartRope, support_ropes

@support_ropes
class MyService:
    __slots__ = ("data",)
    
    @SmartRope(plugins=[LoggingPlugin()])
    def process(self, value):
        return value.upper()

```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã

`AsyncWire` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ, —Ç–∞–∫ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã:

```python
from flexirope import AsyncPlugin

class AsyncValidator(AsyncPlugin):
    async def before(self, wire, args, kwargs):
        # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ë–î)
        return args, kwargs

```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –ª—é–±–æ–π –ø–ª–∞–≥–∏–Ω –≤ —É–¥–æ–±–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä:

```python
from flexirope import rope_factory

# –°–æ–∑–¥–∞–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @trace()
trace = rope_factory(LoggingPlugin)

@trace
def some_func():
    pass

```

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

* **Rope (SmartRope)**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞. –£–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±–µ—Ä—Ç–æ–∫.
* **Wire (BaseWire/AsyncWire)**: –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å. –°–æ–∑–¥–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (—ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏–ª–∏ –∫–ª–∞—Å—Å–∞) –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–ª–∞–≥–∏–Ω—ã.
* **Plugins**: –ü—Ä–æ—Ç–æ–∫–æ–ª—ã, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–µ –ª–æ–≥–∏–∫—É "–¥–æ" –∏ "–ø–æ—Å–ª–µ" –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ¬© 2026 SnayperTihCreator
